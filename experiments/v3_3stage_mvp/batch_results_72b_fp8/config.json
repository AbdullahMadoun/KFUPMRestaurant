{
  "device": "cuda",
  "output_dir": "batch_results_72b_fp8",
  "sam3_repo_path": "/root/sam3",
  "image_extensions": [
    "*.jpg",
    "*.jpeg",
    "*.png",
    "*.bmp",
    "*.webp"
  ],
  "vlm": {
    "model_name": "Qwen/Qwen2.5-VL-72B-Instruct-AWQ",
    "gpu_memory_utilization": 0.85,
    "max_model_len": 4096,
    "enforce_eager": true,
    "quantization": "awq_marlin",
    "force_json": true,
    "allowed_local_media_path": "/root/KFUPMRestaurant",
    "temperature": 0.2,
    "max_tokens": 768,
    "describe_template": "You are analyzing a cafeteria tray. Find EVERY food and beverage item \u2014 do not miss anything. Scan the full image carefully: main dishes, sides, bread, dips, drinks, juice boxes, yogurt cups, fruit, desserts.\n\nFor each item return:\n- \"name\": short common name (e.g. \"kabsa rice\", \"grilled chicken\", \"hummus\")\n- \"description\": visual texture ONLY \u2014 color, surface pattern, shape. Do not mention plates, positions, or containers.\n- \"bbox\": [x1, y1, x2, y2] absolute pixel coordinates. Box must fully cover the food with a small margin.\n\nSplitting rules:\n- Different foods = separate items (rice next to meat = 2 items)\n- Same food in two places = list twice with separate bboxes\n- A topping is part of its base dish, NOT a separate item (oil on hummus = one item, spices on rice = one item, sauce on meat = one item, sesame on bread = one item)\n- A mixed dish (stew, salad with mixed ingredients) = one item\n\n{\"items\": [\n  {\"name\": \"kabsa rice\", \"description\": \"golden-yellow rice grains with orange carrot slivers\", \"bbox\": [120, 80, 450, 350]},\n  {\"name\": \"grilled chicken\", \"description\": \"charred brown chicken leg with crispy skin\", \"bbox\": [460, 90, 700, 340]},\n  {\"name\": \"hummus\", \"description\": \"smooth beige paste with olive oil drizzle on top\", \"bbox\": [50, 400, 200, 520]},\n  {\"name\": \"juice box\", \"description\": \"small rectangular cardboard box with colorful label\", \"bbox\": [710, 30, 790, 180]}\n]}"
  },
  "sam": {
    "model_path": "facebook/sam3",
    "confidence_threshold": 0.1,
    "fallback_thresholds": [
      0.05,
      0.02,
      0.01
    ],
    "crop_padding": 5,
    "bpe_search_paths": [
      "/root/sam3/sam3/assets/bpe_simple_vocab_16e6.txt.gz"
    ]
  },
  "match": {
    "embedding_model": "google/siglip2-base-patch16-224",
    "embedding_dim": 768,
    "index_path": "menu.index",
    "metadata_path": "menu_meta.json",
    "top_k": 3,
    "similarity_threshold": 0.5,
    "text_weight": 0.3,
    "use_text_matching": true
  },
  "nms": {
    "max_objects": 8,
    "iou_threshold": 0.7
  },
  "viz": {
    "draw_boxes": true,
    "alpha": 0.7,
    "thickness": 3,
    "font_scale": 0.9,
    "font_thickness": 2,
    "show_match_label": true,
    "show_price": true,
    "show_confidence": true,
    "color_low": [
      0,
      50
    ],
    "color_high": [
      180,
      255
    ]
  }
}